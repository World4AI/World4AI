import{r as H,n as ln,g as mn,c as gn,a as J}from"./color.667ef569.js";function E(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function dn(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function en(n){let t,i,r;n.length!==2?(t=E,i=(u,c)=>E(n(u),c),r=(u,c)=>n(u)-c):(t=n===E||n===dn?n:yn,i=n,r=n);function e(u,c,f=0,s=u.length){if(f<s){if(t(c,c)!==0)return s;do{const h=f+s>>>1;i(u[h],c)<0?f=h+1:s=h}while(f<s)}return f}function a(u,c,f=0,s=u.length){if(f<s){if(t(c,c)!==0)return s;do{const h=f+s>>>1;i(u[h],c)<=0?f=h+1:s=h}while(f<s)}return f}function o(u,c,f=0,s=u.length){const h=e(u,c,f,s-1);return h>f&&r(u[h-1],c)>-r(u[h],c)?h-1:h}return{left:e,center:o,right:a}}function yn(){return 0}function Mn(n){return n===null?NaN:+n}const pn=en(E),wn=pn.right;en(Mn).center;const kn=wn;var T=Math.sqrt(50),q=Math.sqrt(10),B=Math.sqrt(2);function xn(n,t,i){var r,e=-1,a,o,u;if(t=+t,n=+n,i=+i,n===t&&i>0)return[n];if((r=t<n)&&(a=n,n=t,t=a),(u=an(n,t,i))===0||!isFinite(u))return[];if(u>0){let c=Math.round(n/u),f=Math.round(t/u);for(c*u<n&&++c,f*u>t&&--f,o=new Array(a=f-c+1);++e<a;)o[e]=(c+e)*u}else{u=-u;let c=Math.round(n*u),f=Math.round(t*u);for(c/u<n&&++c,f/u>t&&--f,o=new Array(a=f-c+1);++e<a;)o[e]=(c+e)/u}return r&&o.reverse(),o}function an(n,t,i){var r=(t-n)/Math.max(0,i),e=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,e);return e>=0?(a>=T?10:a>=q?5:a>=B?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(a>=T?10:a>=q?5:a>=B?2:1)}function Nn(n,t,i){var r=Math.abs(t-n)/Math.max(0,i),e=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/e;return a>=T?e*=10:a>=q?e*=5:a>=B&&(e*=2),t<n?-e:e}function vn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function rt(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const K=function n(t){var i=mn(t);function r(e,a){var o=i((e=H(e)).r,(a=H(a)).r),u=i(e.g,a.g),c=i(e.b,a.b),f=ln(e.opacity,a.opacity);return function(s){return e.r=o(s),e.g=u(s),e.b=c(s),e.opacity=f(s),e+""}}return r.gamma=n,r}(1);function An(n,t){t||(t=[]);var i=n?Math.min(t.length,n.length):0,r=t.slice(),e;return function(a){for(e=0;e<i;++e)r[e]=n[e]*(1-a)+t[e]*a;return r}}function bn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Sn(n,t){var i=t?t.length:0,r=n?Math.min(i,n.length):0,e=new Array(r),a=new Array(i),o;for(o=0;o<r;++o)e[o]=O(n[o],t[o]);for(;o<i;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=e[o](u);return a}}function jn(n,t){var i=new Date;return n=+n,t=+t,function(r){return i.setTime(n*(1-r)+t*r),i}}function F(n,t){return n=+n,t=+t,function(i){return n*(1-i)+t*i}}function zn(n,t){var i={},r={},e;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(e in t)e in n?i[e]=O(n[e],t[e]):r[e]=t[e];return function(a){for(e in i)r[e]=i[e](a);return r}}var C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D=new RegExp(C.source,"g");function Pn(n){return function(){return n}}function $n(n){return function(t){return n(t)+""}}function En(n,t){var i=C.lastIndex=D.lastIndex=0,r,e,a,o=-1,u=[],c=[];for(n=n+"",t=t+"";(r=C.exec(n))&&(e=D.exec(t));)(a=e.index)>i&&(a=t.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(e=e[0])?u[o]?u[o]+=e:u[++o]=e:(u[++o]=null,c.push({i:o,x:F(r,e)})),i=D.lastIndex;return i<t.length&&(a=t.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?$n(c[0].x):Pn(t):(t=c.length,function(f){for(var s=0,h;s<t;++s)u[(h=c[s]).i]=h.x(f);return u.join("")})}function O(n,t){var i=typeof t,r;return t==null||i==="boolean"?gn(t):(i==="number"?F:i==="string"?(r=J(t))?(t=r,K):En:t instanceof J?K:t instanceof Date?jn:bn(t)?An:Array.isArray(t)?Sn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zn:F)(n,t)}function Fn(n,t){return n=+n,t=+t,function(i){return Math.round(n*(1-i)+t*i)}}function In(n){return function(){return n}}function Rn(n){return+n}var Q=[0,1];function v(n){return n}function G(n,t){return(t-=n=+n)?function(i){return(i-n)/t}:In(isNaN(t)?NaN:.5)}function Ln(n,t){var i;return n>t&&(i=n,n=t,t=i),function(r){return Math.max(n,Math.min(t,r))}}function Dn(n,t,i){var r=n[0],e=n[1],a=t[0],o=t[1];return e<r?(r=G(e,r),a=i(o,a)):(r=G(r,e),a=i(a,o)),function(u){return a(r(u))}}function Tn(n,t,i){var r=Math.min(n.length,t.length)-1,e=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)e[o]=G(n[o],n[o+1]),a[o]=i(t[o],t[o+1]);return function(u){var c=kn(n,u,1,r)-1;return a[c](e[c](u))}}function qn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Bn(){var n=Q,t=Q,i=O,r,e,a,o=v,u,c,f;function s(){var m=Math.min(n.length,t.length);return o!==v&&(o=Ln(n[0],n[m-1])),u=m>2?Tn:Dn,c=f=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=u(n.map(r),t,i)))(r(o(m)))}return h.invert=function(m){return o(e((f||(f=u(t,n.map(r),F)))(m)))},h.domain=function(m){return arguments.length?(n=Array.from(m,Rn),s()):n.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),s()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),i=Fn,s()},h.clamp=function(m){return arguments.length?(o=m?!0:v,s()):o!==v},h.interpolate=function(m){return arguments.length?(i=m,s()):i},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,p){return r=m,e=p,s()}}function Cn(){return Bn()(v,v)}function Gn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function I(n,t){if((i=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var i,r=n.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+n.slice(i+1)]}function A(n){return n=I(Math.abs(n)),n?n[1]:NaN}function On(n,t){return function(i,r){for(var e=i.length,a=[],o=0,u=n[0],c=0;e>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(i.substring(e-=u,e+u)),!((c+=u+1)>r));)u=n[o=(o+1)%n.length];return a.reverse().join(t)}}function Vn(n){return function(t){return t.replace(/[0-9]/g,function(i){return n[+i]})}}var Xn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(n){if(!(t=Xn.exec(n)))throw new Error("invalid format: "+n);var t;return new V({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}R.prototype=V.prototype;function V(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}V.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Un(n){n:for(var t=n.length,i=1,r=-1,e;i<t;++i)switch(n[i]){case".":r=e=i;break;case"0":r===0&&(r=i),e=i;break;default:if(!+n[i])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(e+1):n}var on;function Yn(n,t){var i=I(n,t);if(!i)return n+"";var r=i[0],e=i[1],a=e-(on=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+I(n,Math.max(0,t+a-1))[0]}function W(n,t){var i=I(n,t);if(!i)return n+"";var r=i[0],e=i[1];return e<0?"0."+new Array(-e).join("0")+r:r.length>e+1?r.slice(0,e+1)+"."+r.slice(e+1):r+new Array(e-r.length+2).join("0")}const _={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Gn,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>W(n*100,t),r:W,s:Yn,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function nn(n){return n}var tn=Array.prototype.map,rn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zn(n){var t=n.grouping===void 0||n.thousands===void 0?nn:On(tn.call(n.grouping,Number),n.thousands+""),i=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",e=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?nn:Vn(tn.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function f(h){h=R(h);var m=h.fill,p=h.align,y=h.sign,b=h.symbol,x=h.zero,S=h.width,L=h.comma,w=h.precision,X=h.trim,g=h.type;g==="n"?(L=!0,g="g"):_[g]||(w===void 0&&(w=12),X=!0,g="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var cn=b==="$"?i:b==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",hn=b==="$"?r:/[%p]/.test(g)?o:"",U=_[g],sn=/[defgprs%]/.test(g);w=w===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function Y(l){var k=cn,d=hn,N,Z,j;if(g==="c")d=U(l)+d,l="";else{l=+l;var z=l<0||1/l<0;if(l=isNaN(l)?c:U(Math.abs(l),w),X&&(l=Un(l)),z&&+l==0&&y!=="+"&&(z=!1),k=(z?y==="("?y:u:y==="-"||y==="("?"":y)+k,d=(g==="s"?rn[8+on/3]:"")+d+(z&&y==="("?")":""),sn){for(N=-1,Z=l.length;++N<Z;)if(j=l.charCodeAt(N),48>j||j>57){d=(j===46?e+l.slice(N+1):l.slice(N))+d,l=l.slice(0,N);break}}}L&&!x&&(l=t(l,1/0));var P=k.length+l.length+d.length,M=P<S?new Array(S-P+1).join(m):"";switch(L&&x&&(l=t(M+l,M.length?S-d.length:1/0),M=""),p){case"<":l=k+l+d+M;break;case"=":l=k+M+l+d;break;case"^":l=M.slice(0,P=M.length>>1)+k+l+d+M.slice(P);break;default:l=M+k+l+d;break}return a(l)}return Y.toString=function(){return h+""},Y}function s(h,m){var p=f((h=R(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(A(m)/3)))*3,b=Math.pow(10,-y),x=rn[8+y/3];return function(S){return p(b*S)+x}}return{format:f,formatPrefix:s}}var $,un,fn;Hn({thousands:",",grouping:[3],currency:["$",""]});function Hn(n){return $=Zn(n),un=$.format,fn=$.formatPrefix,$}function Jn(n){return Math.max(0,-A(Math.abs(n)))}function Kn(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(A(t)/3)))*3-A(Math.abs(n)))}function Qn(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,A(t)-A(n))+1}function Wn(n,t,i,r){var e=Nn(n,t,i),a;switch(r=R(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(a=Kn(e,o))&&(r.precision=a),fn(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Qn(e,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Jn(e))&&(r.precision=a-(r.type==="%")*2);break}}return un(r)}function _n(n){var t=n.domain;return n.ticks=function(i){var r=t();return xn(r[0],r[r.length-1],i??10)},n.tickFormat=function(i,r){var e=t();return Wn(e[0],e[e.length-1],i??10,r)},n.nice=function(i){i==null&&(i=10);var r=t(),e=0,a=r.length-1,o=r[e],u=r[a],c,f,s=10;for(u<o&&(f=o,o=u,u=f,f=e,e=a,a=f);s-- >0;){if(f=an(o,u,i),f===c)return r[e]=o,r[a]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;c=f}return n},n}function nt(){var n=Cn();return n.copy=function(){return qn(n,nt())},vn.apply(n,arguments),_n(n)}export{xn as a,un as b,_n as c,rt as d,O as e,R as f,Fn as g,v as i,nt as l,an as t};
