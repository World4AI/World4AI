import{o as h}from"./index.4d92b023.js";import{w as s}from"./index.e1ba4c1e.js";class p{constructor(t,e){this.observationSpace=t,this.actionSpace=e}act(t){}arrows(){}}class v{constructor(t,e,n=5){this.agent=t,this.env=e,this.fpsInterval=1e3/n,this.actionStore=s(null),this.observationStore=s(null),this.rewardStore=s(null),h(()=>{this.reset(),this.then=Date.now();let i,a=()=>{i=requestAnimationFrame(a);let o=Date.now();return o-this.then>=this.fpsInterval&&(this.then=o,this.interact()),()=>{cancelAnimationFrame(i)}};requestAnimationFrame(a)})}reset(){this.observation=this.env.reset(),this.action=null,this.reward=null,this.payload={},this.observationStore.set(this.observation),this.rewardStore.set(this.reward),this.actionStore.set(this.action)}interact(){this.payload.done?this.reset():(this.action=this.agent.act(this.observation),this.actionStore.set(this.action),this.payload=this.env.step(this.action),this.observation=this.payload.observation,this.reward=this.payload.reward,this.observationStore.set(this.observation),this.rewardStore.set(this.reward))}}export{p as A,v as I};
