import{S as ke,i as be,s as J,y as B,z as A,A as N,g as c,d as _,B as z,Q as ve,e as S,R as we,m as Y,h as y,n as j,b as W,N as M,v as D,f as E,P as I,C as Q,k as x,a as K,q as L,l as F,c as O,r as G,u as ye,Y as Se,Z as Be}from"./index.4d92b023.js";import{S as Ae}from"./SvgContainer.f70b5745.js";import{B as Ne}from"./Block.059eddcd.js";import{C as H}from"./Circle.6709e74f.js";import{A as Z}from"./Arrow.ae91874c.js";import{f as ze}from"./index.5d25d445.js";import{L as Re}from"./Latex.e0b308c0.js";import{P as Ee}from"./PlayButton.85103c5a.js";function X(s,t,r){const l=s.slice();return l[6]=t[r],l[8]=r,l}function ee(s,t,r){const l=s.slice();return l[6]=t[r],l[8]=r,l}function te(s,t,r){const l=s.slice();return l[10]=t[r],l[8]=r,l}function le(s,t,r){const l=s.slice();return l[12]=t[r],l[8]=r,l}function ne(s,t,r){const l=s.slice();return l[10]=t[r],l[8]=r,l}function re(s,t,r){const l=s.slice();return l[15]=t[r],l[8]=r,l}function Me(s){let t,r,l=s[3],e=[];for(let n=0;n<l.length;n+=1)e[n]=oe(re(s,l,n));const a=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let f=0;f<e.length;f+=1)e[f].l(n);t=S()},m(n,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,f);W(n,t,f),r=!0},p(n,f){if(f&28){l=n[3];let o;for(o=0;o<l.length;o+=1){const h=re(n,l,o);e[o]?(e[o].p(h,f),c(e[o],1)):(e[o]=oe(h),e[o].c(),c(e[o],1),e[o].m(t.parentNode,t))}for(D(),o=l.length;o<e.length;o+=1)a(o);E()}},i(n){if(!r){for(let f=0;f<l.length;f+=1)c(e[f]);r=!0}},o(n){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)_(e[f]);r=!1},d(n){I(e,n),n&&y(t)}}}function Pe(s){let t,r,l;return t=new Z({props:{data:[{x:150,y:20},{x:20,y:s[2]}],strokeWidth:"3",dashed:!0,strokeDashArray:"6 6",moving:!0,showMarker:!1,speed:50}}),r=new Z({props:{data:[{x:150,y:20},{x:280,y:s[2]}],strokeWidth:"3",dashed:!0,strokeDashArray:"6 6",moving:!0,showMarker:!1,speed:50}}),{c(){B(t.$$.fragment),B(r.$$.fragment)},l(e){A(t.$$.fragment,e),A(r.$$.fragment,e)},m(e,a){N(t,e,a),N(r,e,a),l=!0},p:Q,i(e){l||(c(t.$$.fragment,e),c(r.$$.fragment,e),l=!0)},o(e){_(t.$$.fragment,e),_(r.$$.fragment,e),l=!1},d(e){z(t,e),z(r,e)}}}function oe(s){let t,r,l,e;return t=new Z({props:{data:[{x:150,y:20},{x:s[15].x,y:s[15].y}],strokeWidth:"3",dashed:!0,strokeDashArray:"6 6",moving:!0,showMarker:!1,speed:50}}),r=new Z({props:{data:[{x:s[15].x,y:s[15].y},{x:s[4][s[8]*2].x,y:s[2]}],strokeWidth:"3",dashed:!0,strokeDashArray:"6 6",moving:!0,showMarker:!1,speed:50}}),l=new Z({props:{data:[{x:s[15].x,y:s[15].y},{x:s[4][s[8]*2+1].x,y:s[2]}],strokeWidth:"3",dashed:!0,strokeDashArray:"6 6",moving:!0,showMarker:!1,speed:50}}),{c(){B(t.$$.fragment),B(r.$$.fragment),B(l.$$.fragment)},l(a){A(t.$$.fragment,a),A(r.$$.fragment,a),A(l.$$.fragment,a)},m(a,n){N(t,a,n),N(r,a,n),N(l,a,n),e=!0},p:Q,i(a){e||(c(t.$$.fragment,a),c(r.$$.fragment,a),c(l.$$.fragment,a),e=!0)},o(a){_(t.$$.fragment,a),_(r.$$.fragment,a),_(l.$$.fragment,a),e=!1},d(a){z(t,a),z(r,a),z(l,a)}}}function se(s){let t,r;return t=new H({props:{x:s[4][s[8]].x,y:s[4][s[8]].y,r:20,text:s[10],fontSize:25,class:"fill-red-400"}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,e){const a={};e&1&&(a.text=l[10]),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}function fe(s){let t,r,l=s[0].actions,e=[];for(let n=0;n<l.length;n+=1)e[n]=ae(le(s,l,n));const a=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let f=0;f<e.length;f+=1)e[f].l(n);t=S()},m(n,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,f);W(n,t,f),r=!0},p(n,f){if(f&9){l=n[0].actions;let o;for(o=0;o<l.length;o+=1){const h=le(n,l,o);e[o]?(e[o].p(h,f),c(e[o],1)):(e[o]=ae(h),e[o].c(),c(e[o],1),e[o].m(t.parentNode,t))}for(D(),o=l.length;o<e.length;o+=1)a(o);E()}},i(n){if(!r){for(let f=0;f<l.length;f+=1)c(e[f]);r=!0}},o(n){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)_(e[f]);r=!1},d(n){I(e,n),n&&y(t)}}}function ae(s){let t,r;return t=new H({props:{x:s[3][s[8]].x,y:s[3][s[8]].y,r:20,text:s[12],fontSize:25,class:"fill-purple-100"}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,e){const a={};e&1&&(a.text=l[12]),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}function ie(s){let t,r,l=s[0].rewards,e=[];for(let n=0;n<l.length;n+=1)e[n]=ce(te(s,l,n));const a=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let f=0;f<e.length;f+=1)e[f].l(n);t=S()},m(n,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,f);W(n,t,f),r=!0},p(n,f){if(f&17){l=n[0].rewards;let o;for(o=0;o<l.length;o+=1){const h=te(n,l,o);e[o]?(e[o].p(h,f),c(e[o],1)):(e[o]=ce(h),e[o].c(),c(e[o],1),e[o].m(t.parentNode,t))}for(D(),o=l.length;o<e.length;o+=1)a(o);E()}},i(n){if(!r){for(let f=0;f<l.length;f+=1)c(e[f]);r=!0}},o(n){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)_(e[f]);r=!1},d(n){I(e,n),n&&y(t)}}}function ce(s){let t,r;return t=new H({props:{x:s[4][s[8]].x,y:s[4][s[8]].y+50,r:20,text:s[10],fontSize:25,class:"fill-green-100"}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,e){const a={};e&1&&(a.text=l[10]),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}function ue(s){let t,r;return t=new Ne({props:{x:s[4][s[8]].x,y:s[4][s[8]].y-50,width:40,height:30,text:s[6],type:"latex",class:"fill-blue-200",fontSize:18}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,e){const a={};e&1&&(a.text=l[6]),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}function he(s){let t,r,l=s[0].actionp,e=[];for(let n=0;n<l.length;n+=1)e[n]=_e(X(s,l,n));const a=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let f=0;f<e.length;f+=1)e[f].l(n);t=S()},m(n,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,f);W(n,t,f),r=!0},p(n,f){if(f&9){l=n[0].actionp;let o;for(o=0;o<l.length;o+=1){const h=X(n,l,o);e[o]?(e[o].p(h,f),c(e[o],1)):(e[o]=_e(h),e[o].c(),c(e[o],1),e[o].m(t.parentNode,t))}for(D(),o=l.length;o<e.length;o+=1)a(o);E()}},i(n){if(!r){for(let f=0;f<l.length;f+=1)c(e[f]);r=!0}},o(n){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)_(e[f]);r=!1},d(n){I(e,n),n&&y(t)}}}function _e(s){let t,r;return t=new Ne({props:{x:s[3][s[8]].x,y:s[3][s[8]].y-50,width:40,height:30,text:s[6],type:"latex",class:"fill-blue-200",fontSize:18}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,e){const a={};e&1&&(a.text=l[6]),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}function We(s){let t,r,l,e,a,n,f,o,h,C;const q=[Pe,Me],P=[];function R(i,g){return i[0].type!=="decision"?0:1}r=R(s),l=P[r]=q[r](s),a=new H({props:{x:150,y:20,r:18,text:s[0].root,type:"latex",fontSize:20,class:"fill-slate-400"}});let p=s[0].states,u=[];for(let i=0;i<p.length;i+=1)u[i]=se(ne(s,p,i));const b=i=>_(u[i],1,1,()=>{u[i]=null});let $=s[0].type==="decision"&&fe(s),k=s[0].type!=="chain"&&ie(s),T=s[0].p,d=[];for(let i=0;i<T.length;i+=1)d[i]=ue(ee(s,T,i));const De=i=>_(d[i],1,1,()=>{d[i]=null});let w=s[0].type==="decision"&&he(s);return{c(){t=ve("svg"),l.c(),e=S(),B(a.$$.fragment);for(let i=0;i<u.length;i+=1)u[i].c();n=S(),$&&$.c(),f=S(),k&&k.c(),o=S();for(let i=0;i<d.length;i+=1)d[i].c();h=S(),w&&w.c(),this.h()},l(i){t=we(i,"svg",{viewBox:!0});var g=Y(t);l.l(g),e=S(),A(a.$$.fragment,g);for(let v=0;v<u.length;v+=1)u[v].l(g);n=S(),$&&$.l(g),f=S(),k&&k.l(g),o=S();for(let v=0;v<d.length;v+=1)d[v].l(g);h=S(),w&&w.l(g),g.forEach(y),this.h()},h(){j(t,"viewBox","0 0 "+Ce+" "+s[1])},m(i,g){W(i,t,g),P[r].m(t,null),M(t,e),N(a,t,null);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(t,null);M(t,n),$&&$.m(t,null),M(t,f),k&&k.m(t,null),M(t,o);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(t,null);M(t,h),w&&w.m(t,null),C=!0},p(i,g){let v=r;r=R(i),r===v?P[r].p(i,g):(D(),_(P[v],1,1,()=>{P[v]=null}),E(),l=P[r],l?l.p(i,g):(l=P[r]=q[r](i),l.c()),c(l,1),l.m(t,e));const U={};if(g&1&&(U.text=i[0].root),a.$set(U),g&17){p=i[0].states;let m;for(m=0;m<p.length;m+=1){const V=ne(i,p,m);u[m]?(u[m].p(V,g),c(u[m],1)):(u[m]=se(V),u[m].c(),c(u[m],1),u[m].m(t,n))}for(D(),m=p.length;m<u.length;m+=1)b(m);E()}if(i[0].type==="decision"?$?($.p(i,g),g&1&&c($,1)):($=fe(i),$.c(),c($,1),$.m(t,f)):$&&(D(),_($,1,1,()=>{$=null}),E()),i[0].type!=="chain"?k?(k.p(i,g),g&1&&c(k,1)):(k=ie(i),k.c(),c(k,1),k.m(t,o)):k&&(D(),_(k,1,1,()=>{k=null}),E()),g&17){T=i[0].p;let m;for(m=0;m<T.length;m+=1){const V=ee(i,T,m);d[m]?(d[m].p(V,g),c(d[m],1)):(d[m]=ue(V),d[m].c(),c(d[m],1),d[m].m(t,h))}for(D(),m=T.length;m<d.length;m+=1)De(m);E()}i[0].type==="decision"?w?(w.p(i,g),g&1&&c(w,1)):(w=he(i),w.c(),c(w,1),w.m(t,null)):w&&(D(),_(w,1,1,()=>{w=null}),E())},i(i){if(!C){c(l),c(a.$$.fragment,i);for(let g=0;g<p.length;g+=1)c(u[g]);c($),c(k);for(let g=0;g<T.length;g+=1)c(d[g]);c(w),C=!0}},o(i){_(l),_(a.$$.fragment,i),u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)_(u[g]);_($),_(k),d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)_(d[g]);_(w),C=!1},d(i){i&&y(t),P[r].d(),z(a),I(u,i),$&&$.d(),k&&k.d(),I(d,i),w&&w.d()}}}function qe(s){let t,r;return t=new Ae({props:{maxWidth:"300px",$$slots:{default:[We]},$$scope:{ctx:s}}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,[e]){const a={};e&131073&&(a.$$scope={dirty:e,ctx:l}),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}let Ce=300,Le=30;function Ge(s,t,r){let{config:l}=t,e=l.type==="decision"?300:200,a=e-Le-(l.type!=="chain"?50:0),n=(Ce-40-2)/(l.states.length-1),f=[{x:65,y:e/2-50},{x:65+2*n,y:e/2-50}],o=l.states.map((h,C)=>({x:21+C*n,y:a}));return s.$$set=h=>{"config"in h&&r(0,l=h.config)},[l,e,a,f,o]}class Xe extends ke{constructor(t){super(),be(this,t,Ge,qe,J,{config:0})}}function ge(s,t,r){const l=s.slice();return l[6]=t[r],l[8]=r,l}function Te(s){let t;return{c(){t=L("t")},l(r){t=G(r,"t")},m(r,l){W(r,t,l)},d(r){r&&y(t)}}}function me(s){let t,r,l;return{c(){t=x("span"),r=L(s[1]),this.h()},l(e){t=F(e,"SPAN",{class:!0});var a=Y(t);r=G(a,s[1]),a.forEach(y),this.h()},h(){j(t,"class","inline-block")},m(e,a){W(e,t,a),M(t,r)},p(e,a){a&2&&ye(r,e[1])},i(e){l||Se(()=>{l=Be(t,ze,{y:-20}),l.start()})},o:Q,d(e){e&&y(t)}}}function $e(s){let t,r,l,e,a=s[2],n;l=new Re({props:{$$slots:{default:[Ye]},$$scope:{ctx:s}}});let f=pe(s);return{c(){t=x("span"),r=L("Return "),B(l.$$.fragment),e=L(`:
      `),f.c(),this.h()},l(o){t=F(o,"SPAN",{class:!0});var h=Y(t);r=G(h,"Return "),A(l.$$.fragment,h),e=G(h,`:
      `),f.l(h),h.forEach(y),this.h()},h(){j(t,"class","bg-green-100 mx-2 px-2")},m(o,h){W(o,t,h),M(t,r),N(l,t,null),M(t,e),f.m(t,null),n=!0},p(o,h){const C={};h&512&&(C.$$scope={dirty:h,ctx:o}),l.$set(C),h&4&&J(a,a=o[2])?(D(),_(f,1,1,Q),E(),f=pe(o),f.c(),c(f,1),f.m(t,null)):f.p(o,h)},i(o){n||(c(l.$$.fragment,o),c(f),n=!0)},o(o){_(l.$$.fragment,o),_(f),n=!1},d(o){o&&y(t),z(l),f.d(o)}}}function Ye(s){let t;return{c(){t=L("G_0")},l(r){t=G(r,"G_0")},m(r,l){W(r,t,l)},d(r){r&&y(t)}}}function pe(s){let t,r,l;return{c(){t=x("span"),r=L(s[2]),this.h()},l(e){t=F(e,"SPAN",{class:!0});var a=Y(t);r=G(a,s[2]),a.forEach(y),this.h()},h(){j(t,"class","inline-block")},m(e,a){W(e,t,a),M(t,r)},p(e,a){a&4&&ye(r,e[2])},i(e){l||Se(()=>{l=Be(t,ze,{y:-20}),l.start()})},o:Q,d(e){e&&y(t)}}}function de(s){let t,r;return t=new H({props:{x:25+s[8]*50,y:40,r:20,text:s[6].value,fontSize:20,class:s[6].type==="state"?"fill-red-400":s[6].type==="reward"?"fill-green-100":"fill-purple-100"}}),{c(){B(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){N(t,l,e),r=!0},p(l,e){const a={};e&8&&(a.text=l[6].value),e&8&&(a.class=l[6].type==="state"?"fill-red-400":l[6].type==="reward"?"fill-green-100":"fill-purple-100"),t.$set(a)},i(l){r||(c(t.$$.fragment,l),r=!0)},o(l){_(t.$$.fragment,l),r=!1},d(l){z(t,l)}}}function je(s){let t,r,l=s[3],e=[];for(let n=0;n<l.length;n+=1)e[n]=de(ge(s,l,n));const a=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){t=ve("svg");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=we(n,"svg",{viewBox:!0});var f=Y(t);for(let o=0;o<e.length;o+=1)e[o].l(f);f.forEach(y),this.h()},h(){j(t,"viewBox","0 0 500 80")},m(n,f){W(n,t,f);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);r=!0},p(n,f){if(f&8){l=n[3];let o;for(o=0;o<l.length;o+=1){const h=ge(n,l,o);e[o]?(e[o].p(h,f),c(e[o],1)):(e[o]=de(h),e[o].c(),c(e[o],1),e[o].m(t,null))}for(D(),o=l.length;o<e.length;o+=1)a(o);E()}},i(n){if(!r){for(let f=0;f<l.length;f+=1)c(e[f]);r=!0}},o(n){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)_(e[f]);r=!1},d(n){n&&y(t),I(e,n)}}}function Ie(s){let t,r,l,e,a,n,f,o=s[1],h,C,q,P;r=new Ee({props:{f:s[4]}}),n=new Re({props:{$$slots:{default:[Te]},$$scope:{ctx:s}}});let R=me(s),p=s[0]&&$e(s);return q=new Ae({props:{maxWidth:"600px",$$slots:{default:[je]},$$scope:{ctx:s}}}),{c(){t=x("div"),B(r.$$.fragment),l=K(),e=x("span"),a=L("Timestep "),B(n.$$.fragment),f=L(`:
    `),R.c(),h=K(),p&&p.c(),C=K(),B(q.$$.fragment),this.h()},l(u){t=F(u,"DIV",{class:!0});var b=Y(t);A(r.$$.fragment,b),l=O(b),e=F(b,"SPAN",{class:!0});var $=Y(e);a=G($,"Timestep "),A(n.$$.fragment,$),f=G($,`:
    `),R.l($),$.forEach(y),h=O(b),p&&p.l(b),b.forEach(y),C=O(u),A(q.$$.fragment,u),this.h()},h(){j(e,"class","bg-blue-100 mx-2 px-2"),j(t,"class","flex justify-center items-center text-lg")},m(u,b){W(u,t,b),N(r,t,null),M(t,l),M(t,e),M(e,a),N(n,e,null),M(e,f),R.m(e,null),M(t,h),p&&p.m(t,null),W(u,C,b),N(q,u,b),P=!0},p(u,[b]){const $={};b&512&&($.$$scope={dirty:b,ctx:u}),n.$set($),b&2&&J(o,o=u[1])?(D(),_(R,1,1,Q),E(),R=me(u),R.c(),c(R,1),R.m(e,null)):R.p(u,b),u[0]?p?(p.p(u,b),b&1&&c(p,1)):(p=$e(u),p.c(),c(p,1),p.m(t,null)):p&&(D(),_(p,1,1,()=>{p=null}),E());const k={};b&520&&(k.$$scope={dirty:b,ctx:u}),q.$set(k)},i(u){P||(c(r.$$.fragment,u),c(n.$$.fragment,u),c(R),c(p),c(q.$$.fragment,u),P=!0)},o(u){_(r.$$.fragment,u),_(n.$$.fragment,u),_(R),_(p),_(q.$$.fragment,u),P=!1},d(u){u&&y(t),z(r),z(n),R.d(u),p&&p.d(),u&&y(C),z(q,u)}}}const Qe=10;function Ve(s,t,r){let{f:l}=t,{showReturn:e=!1}=t,a=0,n=0,f=[];function o(){let h=l();h.type==="state"&&r(1,a=a+1),h.type==="reward"&&r(2,n+=h.value),f.length>=Qe&&f.shift(),r(3,f=[...f,h])}return s.$$set=h=>{"f"in h&&r(5,l=h.f),"showReturn"in h&&r(0,e=h.showReturn)},[e,a,n,f,o,l]}class et extends ke{constructor(t){super(),be(this,t,Ve,Ie,J,{f:5,showReturn:0})}}export{Xe as M,et as S};
